{# Tier 2: Structured reasoning #}
{# Enhanced template for interactive fiction reasoning #}
Current story state:
{{ observation }}

Available actions:
{% for choice in choices %}
{{ loop.index }}. {{ choice.text }}
{% endfor %}

Analyze this situation through these lenses:
1. Immediate Context: What just happened? What objects/characters are present?
2. Story Clues: What narrative elements from previous scenes are relevant?
3. Goal Inference: Based on the story introduction and progression, what is the likely objective?
4. Choice Impact: What could each action lead to? Consider both direct and indirect consequences

Your response should be:
```json
{
    "analysis": "<focused breakdown of current situation and critical clues>",
    "reasoning": "<concise narrative connecting clues to action choice>",
    "result": <action_number>
}
```